<div *ngIf="repair" class="repair-details-container mt-5">
    <div class="card">
      <div class="card-header d-flex justify-content-between align-items-center">
        <h3>Repair Tasks</h3>
      </div>
      <div class="card-body">
        <!-- Display Mode -->
        <div *ngIf="!isEditing">
          <div class="form-group mb-3">
            <ul *ngFor="let task of repair.repairTasks" class="list-group">
              <li class="list-group-item">{{ formatTask(task) }}</li>
              <button type="button" class="btn btn-danger" (click)="deleteRepairTask(task)">Delete</button>              
            </ul>
          </div>
          <div class="d-flex justify-content-between">
            <button type="button" class="btn btn-primary me-2" (click)="toggleEdit()">Add Task</button>
          </div>
        </div>
  
        <!-- Edit Mode -->
        <div *ngIf="isEditing">
          <form [formGroup]="repairForm">    <div class="form-group">
            <label for="repairTasks">Repair Tasks</label>
            <div class="input-group mb-3">
              <input formControlName="taskID" id="taskID" class="form-control" placeholder="Enter task">
              <div class="input-group-append">
                <button type="button" class="btn btn-outline-secondary" (click)="addTask()">Add Task</button>
              </div>
            </div>
            <ul class="list-group">
              <li *ngFor="let task of repairTasks; let i = index" class="list-group-item d-flex justify-content-between align-items-center">
                {{ task }}
                <button type="button" class="btn btn-danger btn-sm" (click)="removeTask(i)">Remove</button>
              </li>
            </ul>
          </div>
          <div class="d-flex justify-content-end">
            <button type="button" class="btn btn-success me-2" (click)="addRepairTask()">Save</button>
            <button type="button" class="btn btn-secondary" (click)="toggleEdit()">Cancel</button>
          </div>
          </form>
        </div>
      </div>
    </div>
  </div>
  